<virtual-sensor name="sparq_observation_test" priority="10">
    <processing-class>
        <class-name>gsn.vsensor.BridgeVirtualSensor</class-name>
        <unique-timestamps>false</unique-timestamps>
        <output-structure>
        <field name="action" type="varchar(100)"/>
        <field name="addinfo" type="varchar(250)"/>
        <field name="start_date" type="bigint"/>
        <field name="end_date" type="bigint"/>
    </output-structure>

    </processing-class>
    <description>Description</description>

    <addressing/>

    <streams>
        <stream name="input1">
            <source alias="source1" sampling-rate="1">
                <address wrapper="sparql">
                    <predicate key="url">http://www.swiss-experiment.ch/sparql/model</predicate>
                    <predicate key="fields"> action:varchar(100), addinfo:varchar(250), start_date: bigint, end_date:bigint </predicate>
                    <predicate key="rate">600000</predicate>
                    <predicate key="query"><![CDATA[
                    PREFIX a: <http://128.178.131.25/index.php/Special:URIResolver/>
                    PREFIX  xsd: <http://www.w3.org/2001/XMLSchema#>
                    SELECT ?action ?addinfo ?start_date ?end_date WHERE {
                    ?page a:Property-3AStation_name "wan5"^^xsd:String .
                    ?page a:Property-3ADatabase_parameter_name ?parameter_name .
                    ?page1 a:Property-3ADatabase_parameter_name ?parameter_name .
                    ?page1 a:Property-3AAction ?action .
                    ?page1 a:Property-3AStart_date ?start_date .
                    ?page1 a:Property-3AEnd_date ?end_date .
                    ?page1 a:Property-3AAddinfo ?addinfo .
                    ?page1 a:Property-3AStation_name ?station_name .
                    FILTER ( xsd:dateTime(?start_date) >= xsd:dateTime("0001-01-01T00:00:00")) .
                    FILTER (xsd:dateTime(?end_date) <= xsd:dateTime("9999-12-31T23:59:59")) .
                    }
                    ]]>
                    </predicate>
                </address>
                <query>select *  from wrapper</query>
            </source>
            <query>select * from source1</query>
        </stream>
    </streams>
</virtual-sensor>