<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Simulation</title>

    <link rel="stylesheet" href="style/gsn.css" type="text/css" media="screen,projection"/>
    <script type="text/javascript" src="js/jquery.1.3.2.js"></script>
    <script type="text/javascript" src="js/simulation.js"></script>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAMzANHtD0lZRRVCrPbKFfkRQgjQ95GGF6hnonCeqYiElIWyu18hSCTuhmhIfYuWivVq8y0t9zgqbuIQ"
                type="text/javascript"></script>
    

<script type="text/javascript">

    function initialize() {

      if (GBrowserIsCompatible()) {
        var map = new GMap2(document.getElementById("map_canvas"));
        map.setCenter(new GLatLng(Sim.station_lats[0],Sim.station_longs[0]), 12);

      function createMarker(point, index) {

          var marker = new GMarker(point);

          GEvent.addListener(marker, "click", function() {
            marker.openInfoWindowHtml(index);
            Sim.selectUnselect(index);
          });
          return marker;
        }


        // Add  markers to the map 
        var bounds = map.getBounds();
        var southWest = bounds.getSouthWest();
        var northEast = bounds.getNorthEast();
        var lngSpan = northEast.lng() - southWest.lng();
        var latSpan = northEast.lat() - southWest.lat();
        for (var i = 0; i < 11; i++) {

          var latlng = new GLatLng(Sim.station_lats[i],Sim.station_longs[i]);
          var marker = createMarker(latlng, Sim.station_names[i]); //new GMarker(latlng);
          var name = "Station "+i;
          map.addOverlay(marker);

        }
          map.addControl(new GSmallMapControl());
          map.addControl(new GMapTypeControl());
      }
    }

</script>
   

</head>

<body  onload="initialize()" onunload="GUnload()">
<div id="container">
    <h3><img src="img/gsn-geotop.jpg" alt="" width="239" height="115"/></h3>

    <p><span class="ui-accordion-header"><a href="#">Stations</a></span></p>

    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <td valign="top"><select id="stations" name="stations" size="11" multiple="" style="display: block;">
        <!-- <option value="lafouly_st_1032">lafouly_st_1032</option> -->
        <option value="lafouly_st_1033" selected="true">lafouly_st_1033</option>
        <option value="lafouly_st_1034">lafouly_st_1034</option>
        <option value="lafouly_st_1035">lafouly_st_1035</option>
        <option value="lafouly_st_1036" selected="true">lafouly_st_1036</option>
        <option value="lafouly_st_1037" selected="true">lafouly_st_1037</option>
        <option value="lafouly_st_1039">lafouly_st_1039</option>
        <option value="lafouly_st_1040" selected="true">lafouly_st_011040</option>
        <option value="lafouly_st_1041">lafouly_st_1041</option>
        <option value="lafouly_st_1042" selected="true">lafouly_st_1042</option>
        <option value="lafouly_st_1043" selected="true">lafouly_st_1043</option>
        <option value="lafouly_st_1044">lafouly_st_1044</option>
        </select></td>
        <td><div id="map_canvas" style="width: 600px; height: 400px"></div></td>
      </tr>
    </table>
    <p>&nbsp;    </p>
    <p>
      
  </p>
  


    <p><span class="ui-accordion-header"><a href="#">Filters</a></span></p>

    <table width="400" border="0">
        <tr>
            <td>Field</td>
            <td>Filter type</td>
            <td>Arguments</td>
            <td></td>
        </tr>
        <tr>
            <td>
                <select name="fieldFilter" id="fieldFilter">
                    <option value="TA">Air temperature (TA) [Celsius]</option>
                    <option value="VW">Wind velocity (VW) [m s-1]</option>
                    <option value="DW">Wind direction (DW) [degrees]</option>
                    <option value="RH">Relative humidity (RH) [0 - 1]</option>
                    <option value="HNW">Precipitations (HNW) [mm h-1]</option>
                    <option value="ISWR">Incoming shortwave radiation (ISWR) [W m-2]</option>
                    <option value="RSWR">Reflected Short Wave Radiation (RSWR) [W m-2]</option>
                    <option value="ILWR">Long wave radiation (ILWR) [W m-2]</option>
                    <option value="TGS">Soil or snow bottom temperature (TGS) [Kelvin]</option>
                    <option value="TSS">Soil or snow surface temperature (TSS) [Kelvin]</option>
                    <option value="HS">Snow height (HS) [cm]</option>
                </select>
            </td>
            <td>
                <select name="filterType" id="filterType">
                    <option value="rate">rate</option>
                    <option value="min_max">min_max</option>
                    <option value="min">min</option>
                    <option value="max">max</option>
                    <option value="resample">resample</option>
                    <option value="accumulate">accumulate</option>
                    <option value="median_avg">median_avg</option>
                    <option value="mean_avg">mean_avg</option>
                    <option value="wind_avg">wind_avg</option>
                </select>

            <td><input id="filterArg" name="filterArg" size="30" type="text" value="3600 "/></td>
            <td><input type="button" name="addFilter" id="addFilter" value="Add" onclick="Sim.addFilter()"/></td>
        </tr>
    </table>

    <p>
        <select id="listFilters" name="listFilters" size="5" multiple="multiple" style="display: block;">
            <option value="HNW::filter1 = accumulate; HNW::arg1 = 3600">HNW::filter1 = accumulate; HNW::arg1 = 3600
            </option>

        </select>
        <input type="button" name="removeFilter" id="removeFilter" value="Remove" onclick="Sim.removeFilter()"/>
    </p>
    <p><span class="ui-accordion-header"><a href="#">Interpolations</a></span></p>
    <table width="400" border="0">
        <tr>
            <td>Field</td>
            <td>Arguments</td>
            <td>&nbsp;</td>
            <td></td>
        </tr>
        <tr>
            <td><select name="fieldInterpolation" id="fieldInterpolation">
                <option value="TA">Air temperature (TA) [Celsius]</option>
                <option value="VW">Wind velocity (VW) [m s-1]</option>
                <option value="DW">Wind direction (DW) [degrees]</option>
                <option value="RH">Relative humidity (RH) [0 - 1]</option>
                <option value="HNW">Precipitations (HNW) [mm h-1]</option>
                <option value="ISWR">Incoming shortwave radiation (ISWR) [W m-2]</option>
                <option value="RSWR">Reflected Short Wave Radiation (RSWR) [W m-2]</option>
                <option value="ILWR">Long wave radiation (ILWR) [W m-2]</option>
                <option value="TGS">Soil or snow bottom temperature (TGS) [Kelvin]</option>
                <option value="TSS">Soil or snow surface temperature (TSS) [Kelvin]</option>
                <option value="HS">Snow height (HS) [cm]</option>
            </select>
            </td>

            <td><input id="interpolationsArg" name="interpolationsArg" size="30" type="text" value=""/></td>
            <td><input type="button" name="addInterpolation" id="addInterpolation" value="Add"
                       onclick="Sim.addInterpolation()"/></td>
        </tr>
    </table>
    <p>
        <select id="listInterpolations" name="listInterpolations" size="5" multiple="multiple" style="display: block;">
            <option value="VW::algorithms = wind">VW::algorithms = wind</option>
        </select>
        <input type="button" name="removeInterpolation" id="removeInterpolation" value="Remove"
               onclick="Sim.removeInterpolation()"/>
    </p>


    <p><span class="ui-accordion-header"><a href="#">Simulation control</a></span></p>
    <table width="500" border="0">
        <tr>
            <td>From</td>
            <td><input id="from" name="from" size="30" type="text" value="09/09/2009 09:00:00"/></td>
        </tr>
        <tr>
            <td>To</td>
            <td><input id="to" name="to" size="30" type="text" value="09/09/2009 10:00:00"/></td>
        </tr>

        <tr>
            <td>Window size (seconds)</td>
            <td><input id="windowSize" name="windowSize" size="16" type="text" value="3600"/></td>
        </tr>


    </table>
    <p>

        <input type="button" name="init" id="init" value="Initialize" onClick="Sim.initSimulation()"/>
        <input type="button" name="start" id="start" value="Start" onClick="Sim.startSimulation()"/>
        <!-- <input type="button" name="stop" id="stop" value="Stop" onClick="Sim.stopSimulation()"/> -->

        <!-- <input type="button" name="status" id="status" value="Status" onClick="Sim.getStatus()"/> -->
        <input type="button" name="fetchAllResults" id="fetchAllResults" value="Fetch Results" onClick="Sim.fetchAllResults()"/>

        <input type="button" name="results" id="results" value="Show Results" onClick="Sim.getResults()"/>

    </p>

    <p><input type="text" id="txt" /></p>

    <img id="image"/>

    <p><span class="ui-accordion-header"><a href="#">Output</a></span></p>

    <!--
    <table width="400" border="0">
        <tr>
            <td>Latest step</td>
            <td>(1) 20090909 10:00:00</td>
        </tr>
    </table>
    -->


    <p>Layer 1</p>

    <img id="layer_1" width="450" height="450"/>


    <p>&nbsp;</p>

    <p>Layer 2</p>
    <img id="layer_2" width="450" height="450"/>

    <p>&nbsp;</p>


    <p>Layer 3</p>
    <img id="layer_3" width="450" height="450"/>

    <p>&nbsp;</p>

    <p>Layer 3</p>
    <img id="layer_4" width="450" height="450"/>

    <p>&nbsp;</p>

    <p>Layer 5</p>
    <img id="layer_5" width="450" height="450"/>

    <p>&nbsp;</p>

    <p>Layer 6</p>
    <img id="layer_6" width="450" height="450"/>

    <p>&nbsp;</p>

</div>
</body>
</html>
