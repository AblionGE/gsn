<binding>
    <mapping name="virtual-sensor" class="gsn.beans.VSensorConfig">
       <value name="name" field="virtualSensorName" style="attribute" />
       <value name="priority" field="priority" usage="optional" style="attribute" />  
       <structure name="processing-class" usage="optional" >
              <value name="class-name" field="mainClass"  />  
              <structure name="init-params" usage="optional" >
                <collection field="mainClassInitialParams"  >
                   <structure  name="param" type="gsn.utils.KeyValueImp">
                        <value name="name"   field="key"   style="attribute" />
                        <value               field="value" style="text"      />
                   </structure>
                </collection>
              </structure>
       </structure>
       <value name="author" field="author"  usage="optional" />
       <value name="email" field="email"  usage="optional"/>
       <value name="description" field="description"  usage="optional"/>
       <value name="webapp" field="webapp"  usage="optional"/>
       <structure name="life-cycle"  usage="optional">  
          <value name="pool-size"  field="lifeCyclePoolSize" style="attribute" />
       </structure>
      <structure name="output-specification" usage="optional" >
          <value name="rate"  field="outputStreamRate" style="attribute"  />
      </structure>
      <collection name="addressing"    field="addressing"  item-type="gsn.utils.KeyValueImp" />
      <collection name="output-structure"   field="outputStructure"  item-type="gsn.beans.DataField" />
      <structure name="storage" usage="optional" >
	      <value name="history-size" field="storageHistorySize" style="attribute" usage="optional" />
	   </structure>
      <collection name="streams"   field="inputStreams"  item-type="gsn.beans.InputStream" />
   </mapping>
	
   <mapping name="predicate" class="gsn.utils.KeyValueImp" >
  	   <value name="key"   field="key"   style="attribute"/>
   	<value field="value" style="text"/>
   </mapping>

   <mapping name="stream" class="gsn.beans.InputStream" >
      <value name="name"  field="inputStreamName"  style="attribute"/>
      <value name="rate"  field="rate"  style="attribute" usage="optional"/>
      <value name="count" field="count" style="attribute" usage="optional"/>
	   <collection field="sources" >
	      <structure name="source" type="gsn.beans.StreamSource">
	         <value  name="alias"  field="alias"  style="attribute"/>
	         <value  name="storage-size" field="storageHistorySize" style="attribute" usage="optional" />
	         <value  name="disconnect-buffer-size" field="disconnectedBufferSize" style="attribute" usage="optional" />
	         <value  name="sampling-rate" field="samplingRate" style="attribute" usage="optional" />
	         <value  name="start-time"  field="startTime"  style="attribute" usage="optional"/>
     		 <value  name="end-time"  field="endTime"  style="attribute" usage="optional"/>
                   <collection field="addressing">
                      <structure name="address" type="gsn.beans.AddressBean">
                         <value name="wrapper"  field="wrapper" style="attribute"/>
                           <collection  field="predicates"  >
                               <structure name="predicate" type="gsn.utils.KeyValueImp">
                                   <value name="key"   field="key"   style="attribute"/>
                                   <value field="value" style="text"/>
                               </structure>
                          </collection>
                     </structure>
                  </collection>
                 <value  name="query" field="sqlQuery" />
            </structure>
        </collection>
	    <value name="query" field="query"   /> 
   </mapping>

   <mapping name="field" class="gsn.beans.DataField">
	<value name="name"  field="fieldName" style="attribute"/>
   	<value name="type" field="type" style="attribute"/>
   	<value field="description" style="text" usage="optional"/>
   </mapping>
   
</binding>
